  - platform: mqtt
    name: "Suite Temperatura"
    device_class: temperature
    state_topic: "tele/sonoff26/SENSOR"
    value_template: "{{ value_json['DHT11'].Temperature }}"
    unit_of_measurement: "°C"

  - platform: mqtt
    name: "Suite Humidade"
    device_class: humidity
    state_topic: "tele/sonoff26/SENSOR"
    value_template: "{{ value_json['DHT11'].Humidity }}"
    unit_of_measurement: "%"

  - platform: mqtt
    name: "Cozinha Temperatura"
    device_class: temperature
    state_topic: "tele/sonoff23/SENSOR"
    value_template: "{{ value_json['DHT11'].Temperature }}"
    unit_of_measurement: "°C"

  - platform: mqtt
    name: "Cozinha Humidade"
    device_class: humidity
    state_topic: "tele/sonoff23/SENSOR"
    value_template: "{{ value_json['DHT11'].Humidity }}"
    unit_of_measurement: "%"

  - platform: mqtt
    name: "Banheiro Social Temperatura"
    device_class: temperature
    state_topic: "tele/sonoff24/SENSOR"
    value_template: "{{ value_json['DHT11'].Temperature }}"
    unit_of_measurement: "°C"

  - platform: mqtt
    name: "Banheiro Social Humidade"
    device_class: humidity
    state_topic: "tele/sonoff24/SENSOR"
    value_template: "{{ value_json['DHT11'].Humidity }}"
    unit_of_measurement: "%"

  - platform: darksky
    api_key: !secret api_darksky
    language: 'pt'
    units: ca
    monitored_conditions:
      - temperature
      - wind_speed
      - cloud_cover
      - humidity
      - pressure
      - visibility
      - hourly_summary
      - daily_summary
      - uv_index
  - platform: moon
  - platform: time_date
    display_options:
      - 'time'
      - 'date'
  - platform: systemmonitor
    resources:
      - type: disk_free
        arg: /
      - type: disk_use
        arg: /
      - type: disk_use_percent
        arg: /
      - type: memory_free
      - type: memory_use
      - type: memory_use_percent
      - type: processor_use
      - type: last_boot
  - platform: filesize
    file_paths:
      - /config/home-assistant_v2.db
  - platform: uptime
    name: Uptime
  - platform: version
    name: Versao
  - platform: command_line
    name: CPU Temperatura
    command: "cat /sys/class/thermal/thermal_zone0/temp"
    unit_of_measurement: "°C"
    value_template: '{{ value | multiply(0.001) | round(1) }}'

  - platform: template
    sensors:
      alarm_clock_hour:
        value_template: '{{ states.input_number.alarm_clock_hour.state | int }}'
      alarm_clock_minutes:
        value_template: '{{ states.input_number.alarm_clock_minutes.state | int }}'
      alarm_clock_time:
        value_template: >-
          {{ states.sensor.alarm_clock_hour.state }}:
          {%- if states.sensor.alarm_clock_minutes.state|length == 1 -%}
            0
          {%- endif -%}
            {{ states.sensor.alarm_clock_minutes.state }}
      alarm_clock_time_long:
        value_template: >-
          {% if states.sensor.alarm_clock_hour.state|length == 1 -%}
            0
          {%- endif -%}
            {{ states.sensor.alarm_clock_hour.state }}:
          {%- if states.sensor.alarm_clock_minutes.state|length == 1 -%}
            0
          {%- endif -%}
            {{ states.sensor.alarm_clock_minutes.state }}

  - platform: template
    sensors:
      bateria_rudi:
        friendly_name: Bateria Rudi
        unit_of_measurement: '%'
        value_template:  '{{ states.device_tracker.google_maps_106566341309199592438.attributes.battery_level|int }}'
        device_class: battery

      bateria_rudi_st:
        value_template:  '{{ states.device_tracker.google_maps_106566341309199592438.attributes.battery_charging }}'
        device_class: battery

      bateria_flavia:
        friendly_name: Bateria Flavia
        unit_of_measurement: "%"
        value_template:  '{{ states.device_tracker.google_maps_118429201781082195315.attributes.battery_level|int }}'
        device_class: battery

      bateria_flavia_st:
        value_template:  '{{ states.device_tracker.google_maps_118429201781082195315.attributes.battery_charging }}'
        device_class: battery


      bateria_status_rudi:
        friendly_name: Status Bateria Rudi
        value_template: >-
          {% if is_state('sensor.bateria_rudi_st', "False") %}
            Descarregando
          {% else %}
            Carregando
          {% endif %}
        icon_template: >-
          {% if is_state('sensor.bateria_rudi_st', "False") %}
            mdi:battery-outline
          {% else %}
            mdi:battery-charging
          {% endif %}

      bateria_status_flavia:
        friendly_name: Status Bateria Flavia
        value_template: >-
          {% if is_state('sensor.bateria_flavia_st', "False") %}
            Descarregando
          {% else %}
            Carregando
          {% endif %}
        icon_template: >-
          {% if is_state('sensor.bateria_flavia_st', "False") %}
            mdi:battery-outline
          {% else %}
            mdi:battery-charging
          {% endif %}

      precisa_trabalhar:
        friendly_name: Precisa Trabalhar Hoje
        value_template: >-
          {% if is_state('binary_sensor.trabalhando', 'on') %}
            Sim
          {% else %}
            Não
          {% endif %}
        icon_template: >-
          {% if is_state('binary_sensor.trabalhando', 'on') %}
            mdi:thumb-up-outline
          {% else %}
            mdi:thumb-down-outline
          {% endif %}